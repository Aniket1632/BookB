{"ast":null,"code":"var _jsxFileName = \"E:\\\\D-Disk folders\\\\office projects\\\\barberly\\\\frontend\\\\src\\\\components\\\\Modal\\\\UploadFile.js\",\n  _s = $RefreshSig$();\nimport React, { Fragment, useState, useEffect } from 'react';\nimport fileUploadBox from '../formInputs/FileUpload/FileUpload.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UploadFile = ({\n  label,\n  accept,\n  icon,\n  onChange,\n  image,\n  errorMessage\n}) => {\n  _s();\n  const [uploadData, setUploadData] = useState([]);\n  const [uploadVideoName, setUploadVideoName] = useState('');\n  const [imageSrc, setImageSrc] = useState(image);\n  useEffect(() => {\n    if (accept && accept.startsWith('image') && uploadData.length > 0) {\n      handleChangeImage();\n    } else if (accept && accept.startsWith('video') && uploadData.length > 0) {\n      setUploadVideoName(uploadData[0].name);\n    }\n  }, [accept, uploadData, handleChangeImage]);\n  const handleChangeImage = () => {\n    var file = uploadData[0];\n    var reader = new FileReader();\n    if (uploadData[0]) {\n      var url = reader.readAsDataURL(file);\n      reader.onloadend = () => {\n        setImageSrc(reader.result);\n      };\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fileUpload\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      id: label,\n      accept: accept,\n      onChange: e => {\n        onChange(e);\n        setUploadData(e.target.files);\n      },\n      hidden: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: label,\n      className: \"fileUpload__label\",\n      children: accept && accept.startsWith('image') ? uploadData && uploadData.length > 0 ? /*#__PURE__*/_jsxDEV(\"img\", {\n        src: imageSrc,\n        alt: \"upload file\",\n        className: \"fileUpload__label--image\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 6\n      }, this) : /*#__PURE__*/_jsxDEV(Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"fileUpload__label--icon\",\n          children: /*#__PURE__*/_jsxDEV(\"use\", {\n            xlinkHref: `/assets/sprite.svg#icon-${icon}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: label\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 6\n      }, this) : uploadData && uploadData.length > 0 ? /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          width: '20rem',\n          overflow: 'auto'\n        },\n        children: uploadVideoName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 6\n      }, this) : /*#__PURE__*/_jsxDEV(Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"fileUpload__label--icon\",\n          children: /*#__PURE__*/_jsxDEV(\"use\", {\n            xlinkHref: `/assets/sprite.svg#icon-${icon}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 8\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: label\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 6\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 4\n    }, this), errorMessage && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: fileUploadBox.form_input__error,\n      children: errorMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 21\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 3\n  }, this);\n};\n_s(UploadFile, \"p/JMrV6TFOqRCfFDG/lfFyjLlQg=\");\n_c = UploadFile;\nexport default UploadFile;\nvar _c;\n$RefreshReg$(_c, \"UploadFile\");","map":{"version":3,"names":["React","Fragment","useState","useEffect","fileUploadBox","jsxDEV","_jsxDEV","UploadFile","label","accept","icon","onChange","image","errorMessage","_s","uploadData","setUploadData","uploadVideoName","setUploadVideoName","imageSrc","setImageSrc","startsWith","length","handleChangeImage","name","file","reader","FileReader","url","readAsDataURL","onloadend","result","className","children","type","id","e","target","files","hidden","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","src","alt","xlinkHref","style","width","overflow","form_input__error","_c","$RefreshReg$"],"sources":["E:/D-Disk folders/office projects/barberly/frontend/src/components/Modal/UploadFile.js"],"sourcesContent":["import React, { Fragment, useState, useEffect } from 'react';\r\nimport fileUploadBox from '../formInputs/FileUpload/FileUpload.module.css';\r\n\r\nconst UploadFile = ({ label, accept, icon, onChange, image, errorMessage }) => {\r\n\tconst [uploadData, setUploadData] = useState([]);\r\n\tconst [uploadVideoName, setUploadVideoName] = useState('');\r\n\tconst [imageSrc, setImageSrc] = useState(image);\r\n\r\n\tuseEffect(\r\n\t\t() => {\r\n\t\t\tif (accept && accept.startsWith('image') && uploadData.length > 0) {\r\n\t\t\t\thandleChangeImage();\r\n\t\t\t} else if (accept && accept.startsWith('video') && uploadData.length > 0) {\r\n\t\t\t\tsetUploadVideoName(uploadData[0].name);\r\n\t\t\t}\r\n\t\t},\r\n\t\t[accept, uploadData, handleChangeImage]\r\n\t);\r\n\r\n\tconst handleChangeImage = () => {\r\n\t\tvar file = uploadData[0];\r\n\t\tvar reader = new FileReader();\r\n\t\tif (uploadData[0]) {\r\n\t\t\tvar url = reader.readAsDataURL(file);\r\n\t\t\treader.onloadend = () => {\r\n\t\t\t\tsetImageSrc(reader.result);\r\n\t\t\t};\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className='fileUpload'>\r\n\t\t\t<input\r\n\t\t\t\ttype='file'\r\n\t\t\t\tid={label}\r\n\t\t\t\taccept={accept}\r\n\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\tonChange(e);\r\n\t\t\t\t\tsetUploadData(e.target.files);\r\n\t\t\t\t}}\r\n\t\t\t\thidden\r\n\t\t\t/>\r\n\t\t\t<label htmlFor={label} className='fileUpload__label'>\r\n\t\t\t\t{accept && accept.startsWith('image') ? uploadData && uploadData.length > 0 ? (\r\n\t\t\t\t\t<img src={imageSrc} alt='upload file' className='fileUpload__label--image' />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t<svg className='fileUpload__label--icon'>\r\n\t\t\t\t\t\t\t<use xlinkHref={`/assets/sprite.svg#icon-${icon}`} />\r\n\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t<span>{label}</span>\r\n\t\t\t\t\t</Fragment>\r\n\t\t\t\t) : uploadData && uploadData.length > 0 ? (\r\n\t\t\t\t\t<span style={{ width: '20rem', overflow: 'auto' }}>{uploadVideoName}</span>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Fragment>\r\n\t\t\t\t\t\t<svg className='fileUpload__label--icon'>\r\n\t\t\t\t\t\t\t<use xlinkHref={`/assets/sprite.svg#icon-${icon}`} />\r\n\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t\t<span>{label}</span>\r\n\t\t\t\t\t</Fragment>\r\n\t\t\t\t)}\r\n\t\t\t</label>\r\n\t\t\t{errorMessage && <p className={fileUploadBox.form_input__error}>{errorMessage}</p>}\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default UploadFile;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}