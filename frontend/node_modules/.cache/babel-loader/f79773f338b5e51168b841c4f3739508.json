{"ast":null,"code":"import axios from 'axios';\nimport { ACTIVATE_PROMO_CODES_FAIL, ACTIVATE_PROMO_CODES_REQUEST, ACTIVATE_PROMO_CODES_SUCCESS, ADD_PROMO_CODES_FAIL, ADD_PROMO_CODES_REQUEST, ADD_PROMO_CODES_SUCCESS } from '../constants/promoCodesConstant';\nimport { BASE_URL } from './ip';\nexport const getAllPromoCodesAction = () => async (dispatch, getState) => {\n  try {\n    const {\n      userLogin: {\n        userInfo\n      }\n    } = getState();\n    const config = {\n      headers: {\n        Authorization: `Bearer ${userInfo.token}`,\n        'Content-Type': 'application/json'\n      }\n    };\n    const {\n      data\n    } = await axios.get(`${BASE_URL}/promo-codes/`, config);\n    return data;\n  } catch (err) {\n    return err.response && err.response.data.message ? err.response.data.message : err.message;\n  }\n};\nexport const getPromoCodeAction = code => async (dispatch, getState) => {\n  try {\n    const {\n      userLogin: {\n        userInfo\n      }\n    } = getState();\n    const config = {\n      headers: {\n        Authorization: `Bearer ${userInfo.token}`,\n        'Content-Type': 'application/json'\n      }\n    };\n    const {\n      data\n    } = await axios.get(`${BASE_URL}/promo-codes/${code}`, config);\n    return data;\n  } catch (err) {\n    return err.response && err.response.data.message ? err.response.data.message : err.message;\n  }\n};\nexport const getPromoByCodeAction = code => async (dispatch, getState) => {\n  try {\n    const config = {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n    const {\n      data\n    } = await axios.get(`${BASE_URL}/promo-codes/promo-codes/${code}`, config);\n    return data;\n  } catch (err) {\n    return err.response && err.response.data ? err.response.data : err.message;\n  }\n};\n\n// export const createNewPromoCodeAction = (formData) => async (dispatch, getState) => {\n// \ttry {\n// \t\tconst { userLogin: { userInfo } } = getState();\n// \t\tconst config = {\n// \t\t\theaders: {\n// \t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\n// \t\t\t\t'Content-Type': 'application/json'\n// \t\t\t}\n// \t\t};\n\n// \t\tconst { data } = await axios.post(`${BASE_URL}/promo-codes`, formData, config);\n\n// \t\treturn data;\n// \t} catch (err) {\n// \t\treturn err.response && err.response.data.message ? err.response.data.message : err.message;\n// \t}\n// };\n\nexport const createNewPromoCodeAction = formData => async (dispatch, getState) => {\n  try {\n    dispatch({\n      type: ADD_PROMO_CODES_REQUEST\n    });\n    const {\n      userLogin: {\n        userInfo\n      }\n    } = getState();\n    const config = {\n      headers: {\n        token: userInfo.data.token,\n        'Content-Type': 'application/json'\n      }\n    };\n    const {\n      data\n    } = await axios.post(`${BASE_URL}/promo-codes`, formData, config);\n    dispatch({\n      type: ADD_PROMO_CODES_SUCCESS,\n      payload: data\n    });\n  } catch (err) {\n    dispatch({\n      type: ADD_PROMO_CODES_FAIL,\n      payload: err.response && err.response.data.message ? err.response.data.message : err.message\n    });\n  }\n};\nexport const updatePromoCodeAction = (formData, id) => async (dispatch, getState) => {\n  try {\n    const {\n      userLogin: {\n        userInfo\n      }\n    } = getState();\n    const config = {\n      headers: {\n        Authorization: `Bearer ${userInfo.token}`,\n        'Content-Type': 'application/json'\n      }\n    };\n    const {\n      data\n    } = await axios.patch(`${BASE_URL}/promo-codes/${id}`, formData, config);\n    return data;\n  } catch (err) {\n    return err.response && err.response.data ? err.response.data : err.message;\n  }\n};\nexport const deletePromoCodeAction = id => async (dispatch, getState) => {\n  try {\n    const {\n      userLogin: {\n        userInfo\n      }\n    } = getState();\n    const config = {\n      headers: {\n        Authorization: `Bearer ${userInfo.token}`,\n        'Content-Type': 'application/json'\n      }\n    };\n    await axios.delete(`${BASE_URL}/promo-codes/${id}`, config);\n    return {\n      status: 'success'\n    };\n  } catch (err) {\n    return err.response && err.response.data.message ? err.response.data.message : err.message;\n  }\n};\nexport const activatePromoCodesAction = (id, status) => async (dispatch, getState) => {\n  try {\n    dispatch({\n      type: ACTIVATE_PROMO_CODES_REQUEST\n    });\n    const {\n      userLogin: {\n        userInfo\n      }\n    } = getState();\n    const config = {\n      headers: {\n        token: userInfo.data.token,\n        'Content-Type': 'application/json'\n      }\n    };\n    const {\n      data\n    } = await axios.patch(`${BASE_URL}/promo-codes/${id}`, status, config);\n    dispatch({\n      type: ACTIVATE_PROMO_CODES_SUCCESS,\n      payload: data\n    });\n  } catch (err) {\n    dispatch({\n      type: ACTIVATE_PROMO_CODES_FAIL,\n      payload: err.response && err.response.data.message ? err.response.data.message : err.message\n    });\n  }\n};","map":{"version":3,"names":["axios","ACTIVATE_PROMO_CODES_FAIL","ACTIVATE_PROMO_CODES_REQUEST","ACTIVATE_PROMO_CODES_SUCCESS","ADD_PROMO_CODES_FAIL","ADD_PROMO_CODES_REQUEST","ADD_PROMO_CODES_SUCCESS","BASE_URL","getAllPromoCodesAction","dispatch","getState","userLogin","userInfo","config","headers","Authorization","token","data","get","err","response","message","getPromoCodeAction","code","getPromoByCodeAction","createNewPromoCodeAction","formData","type","post","payload","updatePromoCodeAction","id","patch","deletePromoCodeAction","delete","status","activatePromoCodesAction"],"sources":["E:/D-Disk folders/office projects/barberly/frontend/src/redux/actions/PromoCodeAction.js"],"sourcesContent":["import axios from 'axios';\r\nimport { ACTIVATE_PROMO_CODES_FAIL, ACTIVATE_PROMO_CODES_REQUEST, ACTIVATE_PROMO_CODES_SUCCESS, ADD_PROMO_CODES_FAIL, ADD_PROMO_CODES_REQUEST, ADD_PROMO_CODES_SUCCESS } from '../constants/promoCodesConstant';\r\nimport { BASE_URL } from './ip';\r\n\r\nexport const getAllPromoCodesAction = () => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tconst { userLogin: { userInfo } } = getState();\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t\t'Content-Type': 'application/json'\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tconst { data } = await axios.get(`${BASE_URL}/promo-codes/`, config);\r\n\r\n\t\treturn data;\r\n\t} catch (err) {\r\n\t\treturn err.response && err.response.data.message ? err.response.data.message : err.message;\r\n\t}\r\n};\r\n\r\nexport const getPromoCodeAction = (code) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tconst { userLogin: { userInfo } } = getState();\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t\t'Content-Type': 'application/json'\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tconst { data } = await axios.get(`${BASE_URL}/promo-codes/${code}`, config);\r\n\r\n\t\treturn data;\r\n\t} catch (err) {\r\n\t\treturn err.response && err.response.data.message ? err.response.data.message : err.message;\r\n\t}\r\n};\r\n\r\nexport const getPromoByCodeAction = (code) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\t'Content-Type': 'application/json'\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tconst { data } = await axios.get(`${BASE_URL}/promo-codes/promo-codes/${code}`, config);\r\n\r\n\t\treturn data;\r\n\t} catch (err) {\r\n\t\treturn err.response && err.response.data ? err.response.data : err.message;\r\n\t}\r\n};\r\n\r\n// export const createNewPromoCodeAction = (formData) => async (dispatch, getState) => {\r\n// \ttry {\r\n// \t\tconst { userLogin: { userInfo } } = getState();\r\n// \t\tconst config = {\r\n// \t\t\theaders: {\r\n// \t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n// \t\t\t\t'Content-Type': 'application/json'\r\n// \t\t\t}\r\n// \t\t};\r\n\r\n// \t\tconst { data } = await axios.post(`${BASE_URL}/promo-codes`, formData, config);\r\n\r\n// \t\treturn data;\r\n// \t} catch (err) {\r\n// \t\treturn err.response && err.response.data.message ? err.response.data.message : err.message;\r\n// \t}\r\n// };\r\n\r\nexport const createNewPromoCodeAction = (formData) => async (dispatch, getState) => {\r\n\r\n\ttry {\r\n\t\tdispatch({ type: ADD_PROMO_CODES_REQUEST });\r\n\t\tconst { userLogin: { userInfo } } = getState();\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\ttoken: userInfo.data.token,\r\n\t\t\t\t'Content-Type': 'application/json'\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tconst { data } = await axios.post(`${BASE_URL}/promo-codes`, formData, config);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: ADD_PROMO_CODES_SUCCESS,\r\n\t\t\tpayload: data\r\n\t\t});\r\n\t} catch (err) {\r\n\t\tdispatch({\r\n\t\t\ttype: ADD_PROMO_CODES_FAIL,\r\n\t\t\tpayload: err.response && err.response.data.message ? err.response.data.message : err.message\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const updatePromoCodeAction = (formData, id) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tconst { userLogin: { userInfo } } = getState();\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t\t'Content-Type': 'application/json'\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tconst { data } = await axios.patch(`${BASE_URL}/promo-codes/${id}`, formData, config);\r\n\r\n\t\treturn data;\r\n\t} catch (err) {\r\n\t\treturn err.response && err.response.data ? err.response.data : err.message;\r\n\t}\r\n};\r\n\r\nexport const deletePromoCodeAction = (id) => async (dispatch, getState) => {\r\n\ttry {\r\n\t\tconst { userLogin: { userInfo } } = getState();\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: `Bearer ${userInfo.token}`,\r\n\t\t\t\t'Content-Type': 'application/json'\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tawait axios.delete(`${BASE_URL}/promo-codes/${id}`, config);\r\n\r\n\t\treturn { status: 'success' };\r\n\t} catch (err) {\r\n\t\treturn err.response && err.response.data.message ? err.response.data.message : err.message;\r\n\t}\r\n};\r\n\r\nexport const activatePromoCodesAction = (id, status) => async (dispatch, getState) => {\r\n\r\n\ttry {\r\n\t\tdispatch({ type: ACTIVATE_PROMO_CODES_REQUEST });\r\n\t\tconst { userLogin: { userInfo } } = getState();\r\n\t\tconst config = {\r\n\t\t\theaders: {\r\n\t\t\t\ttoken: userInfo.data.token,\r\n\t\t\t\t'Content-Type': 'application/json'\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tconst { data } = await axios.patch(`${BASE_URL}/promo-codes/${id}`, status, config);\r\n\r\n\t\tdispatch({\r\n\t\t\ttype: ACTIVATE_PROMO_CODES_SUCCESS,\r\n\t\t\tpayload: data\r\n\t\t});\r\n\t} catch (err) {\r\n\t\tdispatch({\r\n\t\t\ttype: ACTIVATE_PROMO_CODES_FAIL,\r\n\t\t\tpayload: err.response && err.response.data.message ? err.response.data.message : err.message\r\n\t\t});\r\n\t}\r\n};\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,yBAAyB,EAAEC,4BAA4B,EAAEC,4BAA4B,EAAEC,oBAAoB,EAAEC,uBAAuB,EAAEC,uBAAuB,QAAQ,iCAAiC;AAC/M,SAASC,QAAQ,QAAQ,MAAM;AAE/B,OAAO,MAAMC,sBAAsB,GAAGA,CAAA,KAAM,OAAOC,QAAQ,EAAEC,QAAQ,KAAK;EACzE,IAAI;IACH,MAAM;MAAEC,SAAS,EAAE;QAAEC;MAAS;IAAE,CAAC,GAAGF,QAAQ,CAAC,CAAC;IAC9C,MAAMG,MAAM,GAAG;MACdC,OAAO,EAAE;QACRC,aAAa,EAAG,UAASH,QAAQ,CAACI,KAAM,EAAC;QACzC,cAAc,EAAE;MACjB;IACD,CAAC;IAED,MAAM;MAAEC;IAAK,CAAC,GAAG,MAAMjB,KAAK,CAACkB,GAAG,CAAE,GAAEX,QAAS,eAAc,EAAEM,MAAM,CAAC;IAEpE,OAAOI,IAAI;EACZ,CAAC,CAAC,OAAOE,GAAG,EAAE;IACb,OAAOA,GAAG,CAACC,QAAQ,IAAID,GAAG,CAACC,QAAQ,CAACH,IAAI,CAACI,OAAO,GAAGF,GAAG,CAACC,QAAQ,CAACH,IAAI,CAACI,OAAO,GAAGF,GAAG,CAACE,OAAO;EAC3F;AACD,CAAC;AAED,OAAO,MAAMC,kBAAkB,GAAIC,IAAI,IAAK,OAAOd,QAAQ,EAAEC,QAAQ,KAAK;EACzE,IAAI;IACH,MAAM;MAAEC,SAAS,EAAE;QAAEC;MAAS;IAAE,CAAC,GAAGF,QAAQ,CAAC,CAAC;IAC9C,MAAMG,MAAM,GAAG;MACdC,OAAO,EAAE;QACRC,aAAa,EAAG,UAASH,QAAQ,CAACI,KAAM,EAAC;QACzC,cAAc,EAAE;MACjB;IACD,CAAC;IAED,MAAM;MAAEC;IAAK,CAAC,GAAG,MAAMjB,KAAK,CAACkB,GAAG,CAAE,GAAEX,QAAS,gBAAegB,IAAK,EAAC,EAAEV,MAAM,CAAC;IAE3E,OAAOI,IAAI;EACZ,CAAC,CAAC,OAAOE,GAAG,EAAE;IACb,OAAOA,GAAG,CAACC,QAAQ,IAAID,GAAG,CAACC,QAAQ,CAACH,IAAI,CAACI,OAAO,GAAGF,GAAG,CAACC,QAAQ,CAACH,IAAI,CAACI,OAAO,GAAGF,GAAG,CAACE,OAAO;EAC3F;AACD,CAAC;AAED,OAAO,MAAMG,oBAAoB,GAAID,IAAI,IAAK,OAAOd,QAAQ,EAAEC,QAAQ,KAAK;EAC3E,IAAI;IACH,MAAMG,MAAM,GAAG;MACdC,OAAO,EAAE;QACR,cAAc,EAAE;MACjB;IACD,CAAC;IAED,MAAM;MAAEG;IAAK,CAAC,GAAG,MAAMjB,KAAK,CAACkB,GAAG,CAAE,GAAEX,QAAS,4BAA2BgB,IAAK,EAAC,EAAEV,MAAM,CAAC;IAEvF,OAAOI,IAAI;EACZ,CAAC,CAAC,OAAOE,GAAG,EAAE;IACb,OAAOA,GAAG,CAACC,QAAQ,IAAID,GAAG,CAACC,QAAQ,CAACH,IAAI,GAAGE,GAAG,CAACC,QAAQ,CAACH,IAAI,GAAGE,GAAG,CAACE,OAAO;EAC3E;AACD,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,OAAO,MAAMI,wBAAwB,GAAIC,QAAQ,IAAK,OAAOjB,QAAQ,EAAEC,QAAQ,KAAK;EAEnF,IAAI;IACHD,QAAQ,CAAC;MAAEkB,IAAI,EAAEtB;IAAwB,CAAC,CAAC;IAC3C,MAAM;MAAEM,SAAS,EAAE;QAAEC;MAAS;IAAE,CAAC,GAAGF,QAAQ,CAAC,CAAC;IAC9C,MAAMG,MAAM,GAAG;MACdC,OAAO,EAAE;QACRE,KAAK,EAAEJ,QAAQ,CAACK,IAAI,CAACD,KAAK;QAC1B,cAAc,EAAE;MACjB;IACD,CAAC;IAED,MAAM;MAAEC;IAAK,CAAC,GAAG,MAAMjB,KAAK,CAAC4B,IAAI,CAAE,GAAErB,QAAS,cAAa,EAAEmB,QAAQ,EAAEb,MAAM,CAAC;IAE9EJ,QAAQ,CAAC;MACRkB,IAAI,EAAErB,uBAAuB;MAC7BuB,OAAO,EAAEZ;IACV,CAAC,CAAC;EACH,CAAC,CAAC,OAAOE,GAAG,EAAE;IACbV,QAAQ,CAAC;MACRkB,IAAI,EAAEvB,oBAAoB;MAC1ByB,OAAO,EAAEV,GAAG,CAACC,QAAQ,IAAID,GAAG,CAACC,QAAQ,CAACH,IAAI,CAACI,OAAO,GAAGF,GAAG,CAACC,QAAQ,CAACH,IAAI,CAACI,OAAO,GAAGF,GAAG,CAACE;IACtF,CAAC,CAAC;EACH;AACD,CAAC;AAED,OAAO,MAAMS,qBAAqB,GAAGA,CAACJ,QAAQ,EAAEK,EAAE,KAAK,OAAOtB,QAAQ,EAAEC,QAAQ,KAAK;EACpF,IAAI;IACH,MAAM;MAAEC,SAAS,EAAE;QAAEC;MAAS;IAAE,CAAC,GAAGF,QAAQ,CAAC,CAAC;IAC9C,MAAMG,MAAM,GAAG;MACdC,OAAO,EAAE;QACRC,aAAa,EAAG,UAASH,QAAQ,CAACI,KAAM,EAAC;QACzC,cAAc,EAAE;MACjB;IACD,CAAC;IAED,MAAM;MAAEC;IAAK,CAAC,GAAG,MAAMjB,KAAK,CAACgC,KAAK,CAAE,GAAEzB,QAAS,gBAAewB,EAAG,EAAC,EAAEL,QAAQ,EAAEb,MAAM,CAAC;IAErF,OAAOI,IAAI;EACZ,CAAC,CAAC,OAAOE,GAAG,EAAE;IACb,OAAOA,GAAG,CAACC,QAAQ,IAAID,GAAG,CAACC,QAAQ,CAACH,IAAI,GAAGE,GAAG,CAACC,QAAQ,CAACH,IAAI,GAAGE,GAAG,CAACE,OAAO;EAC3E;AACD,CAAC;AAED,OAAO,MAAMY,qBAAqB,GAAIF,EAAE,IAAK,OAAOtB,QAAQ,EAAEC,QAAQ,KAAK;EAC1E,IAAI;IACH,MAAM;MAAEC,SAAS,EAAE;QAAEC;MAAS;IAAE,CAAC,GAAGF,QAAQ,CAAC,CAAC;IAC9C,MAAMG,MAAM,GAAG;MACdC,OAAO,EAAE;QACRC,aAAa,EAAG,UAASH,QAAQ,CAACI,KAAM,EAAC;QACzC,cAAc,EAAE;MACjB;IACD,CAAC;IAED,MAAMhB,KAAK,CAACkC,MAAM,CAAE,GAAE3B,QAAS,gBAAewB,EAAG,EAAC,EAAElB,MAAM,CAAC;IAE3D,OAAO;MAAEsB,MAAM,EAAE;IAAU,CAAC;EAC7B,CAAC,CAAC,OAAOhB,GAAG,EAAE;IACb,OAAOA,GAAG,CAACC,QAAQ,IAAID,GAAG,CAACC,QAAQ,CAACH,IAAI,CAACI,OAAO,GAAGF,GAAG,CAACC,QAAQ,CAACH,IAAI,CAACI,OAAO,GAAGF,GAAG,CAACE,OAAO;EAC3F;AACD,CAAC;AAED,OAAO,MAAMe,wBAAwB,GAAGA,CAACL,EAAE,EAAEI,MAAM,KAAK,OAAO1B,QAAQ,EAAEC,QAAQ,KAAK;EAErF,IAAI;IACHD,QAAQ,CAAC;MAAEkB,IAAI,EAAEzB;IAA6B,CAAC,CAAC;IAChD,MAAM;MAAES,SAAS,EAAE;QAAEC;MAAS;IAAE,CAAC,GAAGF,QAAQ,CAAC,CAAC;IAC9C,MAAMG,MAAM,GAAG;MACdC,OAAO,EAAE;QACRE,KAAK,EAAEJ,QAAQ,CAACK,IAAI,CAACD,KAAK;QAC1B,cAAc,EAAE;MACjB;IACD,CAAC;IAED,MAAM;MAAEC;IAAK,CAAC,GAAG,MAAMjB,KAAK,CAACgC,KAAK,CAAE,GAAEzB,QAAS,gBAAewB,EAAG,EAAC,EAAEI,MAAM,EAAEtB,MAAM,CAAC;IAEnFJ,QAAQ,CAAC;MACRkB,IAAI,EAAExB,4BAA4B;MAClC0B,OAAO,EAAEZ;IACV,CAAC,CAAC;EACH,CAAC,CAAC,OAAOE,GAAG,EAAE;IACbV,QAAQ,CAAC;MACRkB,IAAI,EAAE1B,yBAAyB;MAC/B4B,OAAO,EAAEV,GAAG,CAACC,QAAQ,IAAID,GAAG,CAACC,QAAQ,CAACH,IAAI,CAACI,OAAO,GAAGF,GAAG,CAACC,QAAQ,CAACH,IAAI,CAACI,OAAO,GAAGF,GAAG,CAACE;IACtF,CAAC,CAAC;EACH;AACD,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}